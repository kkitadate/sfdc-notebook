# 標準オブジェクトとカスタムオブジェクト

アドミニストレーター試験での割合 : 15%

# 試験範囲

- <b>標準オブジェクト</b>のアーキテクチャと<b>リレーション</b>モデルを説明する
- <b>カスタムオブジェクト</b>と標準オブジェクトで、<b>項目、ページレイアウト</b>を作成、削除、カスタマイズする方法や、<b>項目を削除</b>した場合の影響を説明する
- 与えられたシナリオに従って、カスタムオブジェクトと標準オブジェクトの<b>ページ レイアウト、レコードタイプおよびビジネスプロセス</b>を判断する

標準オブジェクト
---

- 次のようなカスタマイズのみ可能
  - 項目ラベルの変更
    - 設定 | ユーザインターフェース | タブと表示ラベルの名称変更
  - ヘルプテキストの追加
  - 選択リストの値の追加と編集
  - ルックアップ条件の追加と編集
  - 項目履歴管理の設定
    - 最大20個の項目の変更が追跡可能
  - 自動採番項目の形式の変更

リレーション
---

- ルックアップ項目
  - ルックアップ検索条件を使用
    - 条件種別: 必須(エラーメッセージを設定) or 省略可能
    - エラーメッセージはClassicのみ反映される
      - Lightningではクライアント側のチェックになるため
  - 連動ルックアップ

カスタムオブジェクト
---


項目
---

- 選択リスト
  - グローバル選択リスト
  - 連動選択リスト
    - 複数の連動関係を作成可能
    - 例: ケースにおける商品の 種別(制御側),シリーズ(連動側)
    - 設定可能な項目は以下
      - 制御項目: チェックボックス, 標準選択リスト, カスタム選択リスト 
        - (複数選択リストは不可)
      - 連動項目: カスタム選択リスト, 複数選択リスト
        - (チェックボックス, 標準選択リストは不可)
- カスタム数式項目
  - 参照のみ。編集ページには表示されない
  - 高度な数式
    - 関数を使用する場合などに使用
      - 利用できない関数: VLOOKUP,など
    - クロスオブジェクト数式項目: 関連するオブジェクトの差し込み項目の参照が可能
      - 主従関係の場合, 従側から主オブジェクトの数式項目を参照可能
        - 例: 商談に親取引先の[業種]項目を参照する数式項目を追加
        - 取引先の業種項目が更新されると, 自動的に新しい値が表示される
      - 参照関係にも使用可能

### カスタム項目のデータ型の変更

[カスタム項目のデータ型の変更に関するメモ](https://help.salesforce.com/articleView?id=notes_on_changing_custom_field_types.htm&type=5)

- カスタム項目のデータ型を変更すると, 項目のデータが失われる
  - リストビューは削除される
  - 割り当てルール
  - エスカレーションルール
- 項目がデータを保持しない場合のみ変更を行う
- それ以外では新規項目の作成を検討する

ページレイアウト
---

- 各オブジェクトのレコードページのレイアウト構成を管理
- ユーザがレコードを参照、編集するときに表示される項目, セクション, 関連リスト, ボタン を制御
  - 項目
    - 参照のみ,必須入力のオンオフが可能
  - セクション
    - 例: セールス向け,サポート向けの情報を別セクションに配置する
  - 関連リスト
    - 最大10個まで項目の表示が可能
  - ボタン
    - 詳細ページ,関連リストへの表示設定が可能
- 一つのプロファイルに対し, 割り当て可能なページレイアウトは一つのみ
  - 実際は[レコードタイプ]ごとに一つづつ

項目を削除する
---

- カスタム項目を削除した場合, 以下が発生する
  - 関連するページレイアウトから項目が削除される
  - 全ての項目データが削除される
- 削除項目およびそのデータは, 最大で15日間保存される(ごみ箱)
  - 期間内に削除の取り消し, または完全に削除することも可能

レコードタイプ
---

- 複数のページレイアウト, 選択リストを使い分けたい場合に使用する
  1. 事前準備
    - ページレイアウトの作成
    - 選択リストに全ての値が含まれることを確認
  2. レコードタイプ作成
    - レコードタイプへプロファイルの割り当て
    - プロファイル別にページレイアウトを選択
      - 必要に応じてレコード詳細ページに表示されるようページレイアウトを編集する
    - 選択リストで使用する値を選択
- 複数のレコードタイプを持つオブジェクトの選択リスト新しい値を追加する場合
  - その値を持たせるレコードタイプを選択する必要がある

ビジネスプロセス
---

- 商談, ケース, リード の持つ特別な選択リスト項目
- 上記オブジェクトのレコードタイプを作成する場合, 少なくとも一つのビジネスプロセスが必要
  - ビジネスプロセスの作成
    - 使用する選択リスト値を選択
    - 例: ケース状況
      - 機能要求プロセス
      - カスタマーサポート関連プロセス

データ品質
---

- 項目履歴管理の設定
- 入力規則の利用
  - ユーザが無効なデータを入力して保存を押した場合
    - 設定したエラーメッセージをレコードに表示
    - レコードは保存されない

参照
===

- [データモデリング | Salesforce Trailhead](https://trailhead.salesforce.com/ja/content/learn/modules/data_modeling)
- [Salesforce オブジェクトのカスタマイズ | Salesforce Trailhead](https://trailhead.salesforce.com/ja/content/learn/projects/customize-a-salesforce-object?trail_id=learn-admin-essentials)

## Salesforce ヘルプ
- [コードではなくてクリックによる Salesforce の拡張 > Salesforce 組織のカスタマイズ](https://help.salesforce.com/articleView?id=customize_overview.htm&type=5)

※割合、試験範囲は受験ガイド([資格一覧ページ](http://tandc.salesforce.com/credentials)よりダウンロード)の記載より抜粋

